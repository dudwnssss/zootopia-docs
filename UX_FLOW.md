# Zootopia UX 플로우

> 빌더(학생)와 가이드(선생님)가 앱에서 어떻게 움직이는지 정의하는 문서.
> 화면 개발 기준이 되는 파일.

---

## 빌더 (학생) 플로우

### 🚀 첫 진입 (온보딩)
```
앱 실행
  → 온보딩 스토리 (마을이 폭풍에 흩어짐)
  → 닉네임/캐릭터 설정
  → 홈 화면 (텐트촌 레벨 1)
  → 가이드의 첫 퀘스트 등장
```

### 🏠 홈 (일상 루프)
```
홈 화면
  → 내 마을 현황 (마을 레벨 + 주민 수)
  → 활성 퀘스트 목록
  → 코인 잔액
  → 하단 탭: 홈 / 퀘스트 / 스카우트 / 도감 / 랭킹
```

### 🎯 퀘스트 완료
```
퀘스트 탭
  → 퀘스트 선택 (담당 주민 표시)
  → 미션 수행 (즉시완료 / 퀴즈 / 선생님 확인)
  → 완료 처리
  → 코인 지급 애니메이션 🪙
  → 담당 주민 친밀도 +1
  → 홈으로 돌아감
```

### 📢 스카우트 (가챠)
```
스카우트 탭
  → 코인 잔액 확인
  → "스카우트!" 버튼 (100코인)
  → 빈 땅 → 집 짓기 애니메이션 🏗️
  → 문 열림 → 주민 등장!
  → 등급 공개 (일반 / 희귀 / 장인 / 전설 / 비밀)
  → 신규: 도감에 추가 / 중복: 친밀도 +EXP
  → 마을 레벨업 조건 충족 시 → 레벨업 연출
```

### 📖 도감 (my-zoo)
```
도감 탭
  → 보유 주민 목록 (등급별 정렬)
  → 주민 카드 탭 → 상세 (이름, 직업, 스탯, 대사, 친밀도)
  → 미보유 주민 → 실루엣으로 표시
```

### 🏆 랭킹
```
랭킹 탭
  → 개인 랭킹 (코인 누적 / 주민 수)
  → 월드 랭킹 (반 전체 주민 수 합산)
```

---

## 가이드 (선생님) 플로우

### 🔑 첫 설정
```
가이드 로그인
  → 월드(반) 생성
  → 학생(빌더) 초대 (QR코드 or 링크)
  → 첫 퀘스트 생성
```

### 📋 퀘스트 관리
```
대시보드
  → 새 퀘스트 만들기
      → 제목 / 내용 입력
      → 담당 주민 선택 (선택사항)
      → 완료 방식 선택: 즉시완료 / 퀴즈 / 가이드 확인
      → 코인 보상 설정
      → 활성화
  → 퀘스트 목록 (활성 / 완료 / 예정)
  → 퀘스트 수동 완료 처리 (가이드 확인 방식)
```

### 👥 빌더 관리
```
대시보드
  → 빌더 목록 (코인, 보유 주민 수)
  → 빌더 클릭 → 상세 (완료 퀘스트, 보유 주민)
  → 코인 수동 지급 / 차감 가능
  → 승인 대기 목록 (가이드 확인 방식 퀘스트)
```

### 🗺️ 자리배치
```
도구 탭 → 자리배치도
  → 빌더 이름 드래그로 자리 배치
  → Supabase 실시간 저장
```

---

## 핵심 루프 요약

```
퀘스트 수행
    ↓
코인 획득 (🪙)
    ↓
스카우트 (100코인)
    ↓
주민 획득 → 도감 채우기
    ↓
마을 레벨업 → 더 많은 주민 목표
    ↓
다시 퀘스트 수행
```

---

## 화면 목록

| 화면 | 경로 | 대상 |
|------|------|------|
| 온보딩 | `/onboarding` | 빌더 |
| 홈 | `/home` | 빌더 |
| 퀘스트 | `/mission` | 빌더 |
| 스카우트 | `/shop` | 빌더 |
| 도감 | `/my-zoo` | 빌더 |
| 랭킹 | `/ranking` | 빌더 |
| 월드미션 | `/raid` | 빌더 |
| 트레이드 | `/trade` | 빌더 |
| 프로필 | `/profile` | 빌더 |
| 가이드 대시보드 | `/teacher/dashboard` | 가이드 |
| 퀘스트 관리 | `/teacher/missions` | 가이드 |
| 빌더 관리 | `/teacher/classes` | 가이드 |
| 자리배치 | `/teacher/tools` | 가이드 |
| 가이드 가이드 | `/teacher/guide` | 가이드 |
