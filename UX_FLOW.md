# Zootopia UX 플로우

> 빌더(학생)와 가이드(선생님)가 앱에서 어떻게 움직이는지 정의하는 문서.
> 화면 개발 기준이 되는 파일.
> **기능 배치 기준 및 IA 원칙도 이 문서에서 관리.**

---

## IA 설계 원칙 — 기능 위치/순서 결정 기준

### 기본 철학
- **빌더(학생)**: "나는 지금 무엇을 해야 하나?" → 미션 중심, 보상 중심
- **가이드(선생님)**: "나는 지금 무엇을 관리해야 하나?" → 관리 중심, 소통 중심

기능 배치는 이 멘탈 모델과 일치해야 한다.

### 탭바 vs 페이지 내 섹션 결정 기준

**탭바에 올라오는 기능의 조건 (모두 충족해야 함)**
1. **독립성** — 다른 탭과 콘텐츠가 겹치지 않는다
2. **전환 빈도** — 하루에 여러 번 접근할 가능성이 있다
3. **진입점 역할** — 그 기능이 여러 하위 화면의 시작점이 된다

**페이지 내 섹션으로 들어가는 기능의 조건**
1. 해당 기능이 상위 탭의 맥락 안에서만 의미가 있다
2. 독립적으로 쓰이기보단, 특정 화면을 열었을 때 부가적으로 확인하는 정보다
3. 사용 빈도가 낮아서 탭을 차지할 가치가 없다

**배치 예시**
| 기능 | 위치 | 이유 |
|------|------|------|
| 알림장 | 가이드 사이드바 탭 | 매일 작성. 소통 기능으로 독립성 있음. 미션/빌더 관리와 맥락 다름. |
| 퀘스트 승인 | 별도 탭 | 미션 탭과 관련 있지만 처리 주기가 달라 독립 탭이 효율적 |
| 자리배치 | 도구 탭 내부 | 자주 안 씀. 독립 탭 필요 없음. |
| 빌더 상세 | 빌더 관리 탭 내부 | 목록 → 클릭 → 상세. 드릴다운 구조가 적절. |

### 가이드 사이드바 순서 원칙

**순서 결정 기준**

1. **업무 플로우 순서**: 선생님이 수업 시작 시 하는 행동 순서 반영
   ```
   전체 현황 파악 → 반/학생 확인 → 미션 관리 → 완료 승인 → 소통(알림장) → 초대(QR) → 기타 도구
   ```
2. **사용 빈도**: 매일 쓰는 것 → 위쪽 / 주 1회 이하 → 아래쪽
3. **카테고리 순서**: 관리 → 소통 → 접근 → 도구

| 카테고리 | 포함 기능 |
|---------|---------|
| 관리 | 홈(대시보드), 월드(반/학생), 미션, 승인 |
| 소통 | 알림장 |
| 접근 | QR코드 |
| 도구 | 자리배치, 기타 |

### 빌더 하단 탭바 순서 원칙

핵심 루프를 왼쪽→오른쪽으로 반영:
```
홈(현황) → 퀘스트(할 일) → 스카우트(보상 사용) → 도감(결과 확인) → 랭킹(동기부여)
```

### 화면 내 섹션 순서 원칙

| 위치 | 콘텐츠 성격 |
|------|-----------|
| 최상단 | 현재 상태/요약 (수치, 현황) |
| 중단 | 즉각 행동이 필요한 것 (할 일, 대기 중) |
| 하단 | 참고 정보, 소통, 히스토리 |

### 새 기능 추가 체크리스트

- [ ] **대상**: 빌더용? 가이드용? 둘 다?
- [ ] **카테고리**: 관리 / 소통 / 접근 / 도구 / 게임 중 하나
- [ ] **독립성**: 다른 기능과 콘텐츠 겹침 없이 단독으로 존재 가능한가?
- [ ] **빈도**: 하루에 몇 번? (여러 번 → 탭 후보 / 가끔 → 서브 섹션)
- [ ] **진입점**: 이 기능이 다른 화면들의 시작점인가?
- [ ] **업무 플로우상 위치**: 사용자의 하루 루틴에서 언제 쓰이는가?
- [ ] **탭 OR 섹션**: 위 기준으로 탭 자격 있는가?
- [ ] **탭이라면 순서**: 기존 탭들 사이에서 어디에 끼어야 흐름이 자연스러운가?

---

## 빌더 (학생) 플로우

### 🚀 첫 진입 (온보딩)
```
앱 실행
  → 온보딩 스토리 (마을이 폭풍에 흩어짐)
  → 닉네임/캐릭터 설정
  → 홈 화면 (텐트촌 레벨 1)
  → 가이드의 첫 퀘스트 등장
```

### 🏠 홈 (일상 루프)
```
홈 화면
  → 내 마을 현황 (마을 레벨 + 주민 수)
  → 활성 퀘스트 목록
  → 코인 잔액
  → 하단 탭: 홈 / 퀘스트 / 스카우트 / 도감 / 랭킹
```

### 🎯 퀘스트 완료
```
퀘스트 탭
  → 퀘스트 선택 (담당 주민 표시)
  → 미션 수행 (즉시완료 / 퀴즈 / 선생님 확인)
  → 완료 처리
  → 코인 지급 애니메이션 🪙
  → 담당 주민 친밀도 +1
  → 홈으로 돌아감
```

### 📢 스카우트 (가챠)
```
스카우트 탭
  → 코인 잔액 확인
  → "스카우트!" 버튼 (100코인)
  → 빈 땅 → 집 짓기 애니메이션 🏗️
  → 문 열림 → 주민 등장!
  → 등급 공개 (일반 / 희귀 / 장인 / 전설 / 비밀)
  → 신규: 도감에 추가 / 중복: 친밀도 +EXP
  → 마을 레벨업 조건 충족 시 → 레벨업 연출
```

### 📖 도감 (my-zoo)
```
도감 탭
  → 보유 주민 목록 (등급별 정렬)
  → 주민 카드 탭 → 상세 (이름, 직업, 스탯, 대사, 친밀도)
  → 미보유 주민 → 실루엣으로 표시
```

### 🏆 랭킹
```
랭킹 탭
  → 개인 랭킹 (코인 누적 / 주민 수)
  → 월드 랭킹 (반 전체 주민 수 합산)
```

---

## 가이드 (선생님) 플로우

### 🔑 첫 설정
```
가이드 로그인
  → 월드(반) 생성
  → 학생(빌더) 초대 (QR코드 or 링크)
  → 첫 퀘스트 생성
```

### 📋 퀘스트 관리
```
대시보드
  → 새 퀘스트 만들기
      → 제목 / 내용 입력
      → 담당 주민 선택 (선택사항)
      → 완료 방식 선택: 즉시완료 / 퀴즈 / 가이드 확인
      → 코인 보상 설정
      → 활성화
  → 퀘스트 목록 (활성 / 완료 / 예정)
  → 퀘스트 수동 완료 처리 (가이드 확인 방식)
```

### 👥 빌더 관리
```
대시보드
  → 빌더 목록 (코인, 보유 주민 수)
  → 빌더 클릭 → 상세 (완료 퀘스트, 보유 주민)
  → 코인 수동 지급 / 차감 가능
  → 승인 대기 목록 (가이드 확인 방식 퀘스트)
```

### 🗺️ 자리배치
```
도구 탭 → 자리배치도
  → 빌더 이름 드래그로 자리 배치
  → Supabase 실시간 저장
```

---

## 핵심 루프 요약

```
퀘스트 수행
    ↓
코인 획득 (🪙)
    ↓
스카우트 (100코인)
    ↓
주민 획득 → 도감 채우기
    ↓
마을 레벨업 → 더 많은 주민 목표
    ↓
다시 퀘스트 수행
```

---

## 화면 목록

| 화면 | 경로 | 대상 |
|------|------|------|
| 온보딩 | `/onboarding` | 빌더 |
| 홈 | `/home` | 빌더 |
| 퀘스트 | `/mission` | 빌더 |
| 스카우트 | `/shop` | 빌더 |
| 도감 | `/my-zoo` | 빌더 |
| 랭킹 | `/ranking` | 빌더 |
| 월드미션 | `/raid` | 빌더 |
| 트레이드 | `/trade` | 빌더 |
| 프로필 | `/profile` | 빌더 |
| 가이드 대시보드 | `/teacher/dashboard` | 가이드 |
| 퀘스트 관리 | `/teacher/missions` | 가이드 |
| 빌더 관리 | `/teacher/classes` | 가이드 |
| 자리배치 | `/teacher/tools` | 가이드 |
| 가이드 가이드 | `/teacher/guide` | 가이드 |
| 알림장 | `/teacher/notices` | 가이드 |
| QR코드 | `/teacher/qrcodes` | 가이드 |
| 승인 | `/teacher/approvals` | 가이드 |

---

## 가이드(선생님) 레이아웃 구조

### 반응형 내비게이션
| 화면 크기 | 내비 형태 |
|----------|---------|
| 모바일 (`~md`) | 하단 탭바 (TeacherNav) |
| 태블릿 (`md~lg`) | 좌측 고정 사이드바 — 아이콘만 (56px), hover 툴팁 |
| 데스크톱 (`lg~`) | 좌측 고정 사이드바 — 아이콘 + 텍스트 (224px) |

### 사이드바 메뉴 구성
홈 🏠 → 월드 관리 🏫 → 미션 🎯 → 승인 📋 → 알림장 📢 → QR코드 🔗 → 도구 🔧

### 페이지별 데스크톱 레이아웃
| 페이지 | 데스크톱 구조 |
|--------|-------------|
| classes | 2~3열 카드 그리드 |
| missions | split-view (리스트 + 생성 폼) |
| approvals | 컴팩트 카드 리스트 |
| qrcodes | 3~4열 그리드 |
